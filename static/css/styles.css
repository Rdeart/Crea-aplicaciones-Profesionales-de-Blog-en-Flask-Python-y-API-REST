/* Styles for chatbot UI */
body { font-family: system-ui, Arial, sans-serif; background: #fff; color: #111; }
.page { max-width: 960px; margin: 24px auto; padding: 12px; }
.site-header { margin-bottom: 16px; }
#chat-container { position: relative; width: 100%; max-width: 720px; margin: 0 auto; }
#chat-window { height: 420px; border: 1px solid #e5e7eb; border-radius: 12px; overflow: auto; padding: 12px; background: #fafafa }
#messages { display: flex; flex-direction: column; gap: 10px; }
.message { max-width: 78%; padding: 10px 14px; border-radius: 14px; display: inline-block; }
.message.user { background: #5b21b6; color: #fff; align-self: flex-end; border-bottom-right-radius: 4px; }
.message.bot { background: #fff; color: #111; box-shadow: 0 1px 3px rgba(0,0,0,0.06); align-self: flex-start; }
#chat-controls { display:flex; gap:8px; margin-top: 10px; }
#chat-input { flex:1; padding:10px; border-radius:8px; border:1px solid #e5e7eb }
#chat-send { padding:10px 16px; background:#5b21b6; color:#fff; border-radius:8px; border:none }

/* Floating open button */
#chatbot-open-button { position: fixed; right: 24px; bottom: 24px; width:64px; height:64px; border-radius:50%; border:none; background:#fff; box-shadow: 0 6px 18px rgba(0,0,0,0.12); display:flex; align-items:center; justify-content:center; }
#chatbot-avatar { width:44px; height:44px; border-radius:6px; }

/* Avatar-only style: show only the image without circular background or shadow. Increased size for the muÃ±equita */
.avatar-only { background: transparent !important; box-shadow: none !important; width: auto !important; height: auto !important; padding: 0 !important; }
.avatar-only img#chatbot-avatar { height: 112px; width: auto; max-width: 112px; border-radius: 0 !important; display: block; object-fit: contain; }
.avatar-only button, .avatar-only[role="button"] { background: transparent; box-shadow:none; }

/* Ensure the open button with id loses its white background when avatar-only is present */
#chatbot-open-button.avatar-only, button#chatbot-open-button.avatar-only {
	background: transparent !important;
	box-shadow: none !important;
	border: none !important;
	padding: 0 !important;
	width: auto !important;
	height: auto !important;
}

/* Ensure any button with avatar-only style shows only the image */
button.avatar-only {
	background: transparent !important;
	box-shadow: none !important;
	border: none !important;
	padding: 0 !important;
	width: auto !important;
	height: auto !important;
}

/* Ensure no background appears on hover/active/focus for avatar-only buttons */
button.avatar-only:hover, button.avatar-only:active, #chatbot-open-button.avatar-only:hover, #chatbot-open-button.avatar-only:active, #chatbot-open-button.avatar-only:focus {
	background: transparent !important;
	box-shadow: none !important;
}

/* Ensure the image itself has transparent background */
.avatar-only img, button.avatar-only img, #chatbot-open-button.avatar-only img {
	background: transparent !important;
}

/* Hover / motion: subtle lift and scale when user hovers or focuses the avatar */
.avatar-only img, button.avatar-only img, #chatbot-open-button.avatar-only img { transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms !important; will-change: transform; cursor: pointer; transform-origin: center center !important; -webkit-transform: translateZ(0); transform: translateZ(0); -webkit-backface-visibility: hidden; backface-visibility: hidden; }
/* Stronger hover rules with !important to override external style frameworks */
.avatar-only:hover > img, button.avatar-only:hover img, #chatbot-open-button.avatar-only:hover > img { transform: translateY(-12px) scale(1.18) !important; }
.avatar-only:focus > img, button.avatar-only:focus img, #chatbot-open-button.avatar-only:focus > img { transform: translateY(-12px) scale(1.18) !important; }
.avatar-only:active > img, button.avatar-only:active img, #chatbot-open-button.avatar-only:active > img { transform: translateY(-3px) scale(0.98) !important; }
.avatar-only:focus-visible img { outline: 3px solid rgba(59,130,246,0.18); border-radius: 4px; }

/* Chat header and close button */
.chat-header { display:flex; align-items:center; justify-content:space-between; padding:8px 12px; border-bottom:1px solid #eee; background:#f8fafc; }
.chat-header strong { font-size:14px; }
.chat-close { background:transparent; border:0; font-size:20px; line-height:1; cursor:pointer; padding:4px 8px; color:#444; }
.chat-close:hover { color:#000; }

/* Responsive: cap avatar size on small screens */
@media (max-width:600px){ .avatar-only img#chatbot-avatar { height: 84px; width: auto; max-width:84px; } #chat-window { height: 320px } }

/* Mobile adjustments */
@media (max-width:600px){ #chat-window { height: 320px } }
